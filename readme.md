# EmployeeProject

## Описание

Проект построен на .NET 8, использует Dapper для работы с БД PostgreSQL, FluentValidation для валидации данных и Swagger для документации. Это мой первый опыт использования Dapper и FluentValidation. Проект выступает в роли сервиса для манипуляции над сотрудниками.

WebAPI умеет:

* Добавлять сотрудников, в ответ приходит Id добавленного сотрудника;
* Удалять сотрудников по employeeId;
* Выводить список сотрудников для указанной компании (по companyID);
* Выводить список сотрудников для указанного отдела компании (по departmentId);
* Валидировать сущность CreateEmployee, которая служит как DTO для AddEmployee ручки.

Также есть init скрипт для БД, который находится в папке "db". Скрипт помимо создания сущностей, заполняет таблицы данными, чтобы сразу можно было протестировать некоторые ручки по первому Id.

## Структура

Также это мой первый опыт в подобной организации разделения кода на следующие слои:

* **Repository** - как часть отвечающая за запросы к БД;
* **Services** - как часть отвечающая за вызов репозитория и некоторый слой валидации;
* **Validators** - как валидация DTO и сущностей использующихся в запросах;
* **Models и DTO** - содержит объекты для манипуляцией над информацией.
* **Database** - содержит в себе DbFactory и инициализацию объекта подключения к БД Postgres.

## Запуск проекта

1. Вам необходимо иметь .NET 8 SDK и Docker
2. Ознакомьтесь с файлом ".env.example", который находится в корневой папке проекта. Все секреты хранятся именно в нем. И вам будет достаточно, переименовать его в .env файл.
3. Запустите контейнеры:
  
```bash
docker-compose up --build
```

## Что можно улучшить

1. Логгирование + улучшить error handling с также добавить тесты;
2. Добавить пагинацию для GET ручек, где выдается списки;
3. Доработать метод PatchEmployee, чтобы не обновлялась информацию, там где значения полей совпадают;
4. Доработать валидацию других сущностей;
5. Вынести конфигурацию БД в Extension метод;
6. В купе с тестами можно настроить CI/CD.
